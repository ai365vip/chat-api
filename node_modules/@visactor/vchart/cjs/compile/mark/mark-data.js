"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.MarkData = void 0;

const compilable_data_1 = require("../data/compilable-data"), constant_1 = require("../../constant"), vutils_1 = require("@visactor/vutils");

class MarkData extends compilable_data_1.CompilableData {
    constructor(option) {
        super(option), this._mark = option.mark;
    }
    setCompiledProductId(name) {
        this._compiledProductId = name;
    }
    generateProductId() {
        const name = super.generateProductId();
        return (0, vutils_1.isValid)(name) ? name : `${constant_1.PREFIX}_markData_${this._mark.id}`;
    }
    _compileProduct() {
        var _a;
        const data = null === (_a = this._data) || void 0 === _a ? void 0 : _a.latestData;
        (0, vutils_1.isNil)(data) || (0, vutils_1.isValid)(this.getProduct()) || this._initProduct(data);
    }
}

exports.MarkData = MarkData;
//# sourceMappingURL=mark-data.js.map

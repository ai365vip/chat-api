"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
}), exports.registerComponentMark = exports.ComponentMark = void 0;

const factory_1 = require("./../core/factory"), vgrammar_core_1 = require("@visactor/vgrammar-core"), base_mark_1 = require("./base/base-mark"), type_1 = require("./interface/type");

class ComponentMark extends base_mark_1.BaseMark {
    constructor(name, option) {
        super(name, option), this.type = "component", this._componentType = option.componentType, 
        this._mode = option.mode;
    }
    _initProduct(group) {
        const view = this.getVGrammarView(), id = this.getProductId();
        this._product = view.mark(vgrammar_core_1.GrammarMarkType.component, null != group ? group : view.rootMark, {
            componentType: this._componentType,
            mode: this._mode
        }).id(id), this._compiledProductId = id;
    }
}

exports.ComponentMark = ComponentMark, ComponentMark.type = type_1.MarkTypeEnum.component;

const registerComponentMark = () => {
    factory_1.Factory.registerMark(ComponentMark.type, ComponentMark);
};

exports.registerComponentMark = registerComponentMark;
//# sourceMappingURL=component.js.map

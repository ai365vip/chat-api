{"version":3,"sources":["../src/component/common/trigger/desktop.ts"],"names":[],"mappings":";;;AAEA,MAAa,cAAc;IAGzB,iBAAiB,CAAC,CAAM;QACtB,IAAI,CAAC,CAAC,EAAE;YACN,OAAO,CAAC,CAAC;SACV;QAGD,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE;YACpD,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC;YACrB,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC;YACrB,OAAO,CAAC,CAAC;SACV;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED,eAAe,CAAC,CAAM;QACpB,IAAI,CAAC,CAAC,EAAE;YACN,OAAO,CAAC,CAAC;SACV;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;QACnB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC;QACpB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC;QACpB,OAAO,CAAC,CAAC;IACX,CAAC;IACD,SAAS;IAET,CAAC;IAED,WAAW;IAEX,CAAC;IAED,SAAS;IAET,CAAC;IACD,eAAe;QACb,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AA3CD,wCA2CC","file":"desktop.js","sourcesContent":["import type { IZoomTrigger } from './interface';\n\nexport class DeskTopTrigger implements IZoomTrigger {\n  pointerId: number;\n\n  parserScrollEvent(e: any) {\n    if (!e) {\n      return e;\n    }\n\n    // 经过测试ctrlKey这个字段只有在双指方向不一致时，才会为true，根据这个判断是否触发scroll事件\n    if (!e.ctrlKey && (e.deltaY !== 0 || e.deltaX !== 0)) {\n      e.scrollX = e.deltaX;\n      e.scrollY = e.deltaY;\n      return e;\n    }\n\n    return false;\n  }\n\n  parserZoomEvent(e: any) {\n    if (!e) {\n      return e;\n    }\n    // @see https://vega.github.io/vega/examples/zoomable-world-map/\n    const zoom = Math.pow(1.0005, -e.deltaY * Math.pow(16, e.deltaMode));\n    e.zoomDelta = zoom;\n    e.zoomX = e.canvasX;\n    e.zoomY = e.canvasY;\n    return e;\n  }\n  clearZoom(): void {\n    // do nothing\n  }\n\n  clearScroll(): void {\n    // do nothing\n  }\n\n  clearDrag(): void {\n    // do nothing\n  }\n  parserDragEvent(): boolean {\n    return true;\n  }\n}\n"]}
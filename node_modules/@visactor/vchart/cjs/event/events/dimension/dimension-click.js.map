{"version":3,"sources":["../src/event/events/dimension/dimension-click.ts"],"names":[],"mappings":";;;AAAA,gDAAsD;AAEtD,iCAAwC;AAExC,MAAa,mBAAoB,SAAQ,qBAAc;IAAvD;;QAiBU,YAAO,GAAG,CAAC,MAAuB,EAAE,EAAE;YAC5C,IAAI,CAAC,MAAM,EAAE;gBACX,OAAO;aACR;YACD,MAAM,CAAC,GAAI,MAAM,CAAC,KAAa,CAAC,KAAK,CAAC;YACtC,MAAM,CAAC,GAAI,MAAM,CAAC,KAAa,CAAC,KAAK,CAAC;YACtC,MAAM,mBAAmB,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,mBAAmB,EAAE;gBACxB,OAAO;aACR;YACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,kCACnB,MAAM,KACT,MAAM,EAAE,OAAO,EACf,aAAa,EAAE,mBAAmB,CAAC,KAAK,EAAE,IAC1C,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAhCC,QAAQ,CAAwB,KAAU,EAAE,OAAiD;QAC3F,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAElC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAe,YAAY,EAAE;YACzD,KAAK,kCAAO,OAAO,CAAC,KAAK,KAAE,MAAM,EAAE,4BAAiB,CAAC,KAAK,GAAE;YAC5D,QAAQ,EAAE,IAAI,CAAC,OAAO;SACvB,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,YAAY,EAAE;YAC7C,KAAK,EAAE,IAAI;YACX,QAAQ,EAAE,IAAI,CAAC,OAAO;SACvB,CAAC,CAAC;IACL,CAAC;CAkBF;AAjCD,kDAiCC","file":"dimension-click.js","sourcesContent":["import { Event_Source_Type } from '../../../constant';\nimport type { BaseEventParams, EventHandler, EventParamsDefinition, EventType } from '../../interface';\nimport { DimensionEvent } from './base';\n\nexport class DimensionClickEvent extends DimensionEvent {\n  register<Evt extends EventType>(eType: Evt, handler: EventHandler<EventParamsDefinition[Evt]>) {\n    this._callback = handler.callback;\n\n    this._eventDispatcher.register<'pointertap'>('pointertap', {\n      query: { ...handler.query, source: Event_Source_Type.chart },\n      callback: this.onClick\n    });\n  }\n\n  unregister() {\n    this._eventDispatcher.unregister('pointertap', {\n      query: null,\n      callback: this.onClick\n    });\n  }\n\n  private onClick = (params: BaseEventParams) => {\n    if (!params) {\n      return;\n    }\n    const x = (params.event as any).viewX;\n    const y = (params.event as any).viewY;\n    const targetDimensionInfo = this.getTargetDimensionInfo(x, y);\n    if (!targetDimensionInfo) {\n      return;\n    }\n    this._callback.call(null, {\n      ...params,\n      action: 'click',\n      dimensionInfo: targetDimensionInfo.slice()\n    });\n  };\n}\n"]}
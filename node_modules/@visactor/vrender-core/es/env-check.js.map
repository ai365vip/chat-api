{"version":3,"sources":["../src/env-check.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAE5C,IAAI,aAAkC,CAAC;AAMvC,SAAS,gBAAgB;IACvB,IAAI,aAAa,IAAI,IAAI,EAAE;QACzB,OAAO;KACR;IACD,IAAI;QAEF,aAAa,GAAG,UAAU,KAAK,MAAM,CAAC;QACtC,IAAI,aAAa,EAAE;YACjB,aAAa,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC;SAC1C;KACF;IAAC,OAAO,GAAQ,EAAE;QACjB,aAAa,GAAG,KAAK,CAAC;KACvB;AACH,CAAC;AAED,MAAM,UAAU,YAAY;IAC1B,gBAAgB,EAAE,CAAC;IACnB,MAAM,GAAG,GAAG,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC;IACzD,OAAO,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC;AACjD,CAAC;AAED,MAAM,UAAU,SAAS;IACvB,gBAAgB,EAAE,CAAC;IACnB,MAAM,GAAG,GAAG,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC;IACzD,OAAO,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;AAC/C,CAAC;AAED,MAAM,UAAU,aAAa;IAC3B,OAAO,YAAY,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC;AAC7C,CAAC","file":"env-check.js","sourcesContent":["import { application } from './application';\n\nlet _isBrowserEnv: boolean | undefined;\n\n/**\n * 仅能判断是否是浏览器环境和NodeJS环境，其他环境不一定判断出来\n * @returns\n */\nfunction initIsBrowserEnv() {\n  if (_isBrowserEnv != null) {\n    return;\n  }\n  try {\n    // @ts-ignore\n    _isBrowserEnv = globalThis === window;\n    if (_isBrowserEnv) {\n      _isBrowserEnv = !!document.createElement;\n    }\n  } catch (err: any) {\n    _isBrowserEnv = false;\n  }\n}\n\nexport function isBrowserEnv(): boolean {\n  initIsBrowserEnv();\n  const env = application.global && application.global.env;\n  return env ? env === 'browser' : _isBrowserEnv;\n}\n\nexport function isNodeEnv() {\n  initIsBrowserEnv();\n  const env = application.global && application.global.env;\n  return env ? env === 'node' : !_isBrowserEnv;\n}\n\nexport function getCurrentEnv(): 'browser' | 'node' {\n  return isBrowserEnv() ? 'browser' : 'node';\n}\n"]}
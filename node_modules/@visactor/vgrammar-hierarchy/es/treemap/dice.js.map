{"version":3,"sources":["../src/treemap/dice.ts"],"names":[],"mappings":"AAcA,MAAM,CAAC,OAAO,WACZ,MAAS,EACT,EAAU,EACV,EAAU,EACV,EAAU,EACV,EAAU,EACV,SAAiC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE;IAE3E,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC;IAC9B,IAAI,IAAI,CAAC;IACT,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACX,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;IACvB,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;IAEnD,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE;QACd,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;KACxC;AACH,CAAC","file":"dice.js","sourcesContent":["/* Adapted from d3-hierarchy by Mike Bostock\n * https://observablehq.com/collection/@d3/d3-hierarchy\n * Licensed under the ISC\n\n * url: https://github.com/d3/d3-hierarchy/blob/main/src/treemap/dice.js\n * License: https://github.com/d3/d3-hierarchy/blob/main/LICENSE\n * @license\n */\n\nimport type { HierarchicalDatum } from '../interface';\n\n/**\n * split rect in horizontal direction\n */\nexport default function <T extends HierarchicalDatum>(\n  parent: T,\n  x0: number,\n  y0: number,\n  x1: number,\n  y1: number,\n  keyMap: Record<string, string> = { x0: 'x0', x1: 'x1', y0: 'y0', y1: 'y1' }\n) {\n  const nodes = parent.children;\n  let node;\n  let i = -1;\n  const n = nodes.length;\n  const k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i];\n    node[keyMap.y0] = y0;\n    node[keyMap.y1] = y1;\n    node[keyMap.x0] = x0;\n    node[keyMap.x1] = x0 += node.value * k;\n  }\n}\n"]}